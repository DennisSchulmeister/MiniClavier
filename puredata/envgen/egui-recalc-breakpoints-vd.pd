#N canvas 0 49 1920 1009 12;
#X obj -30 -30 preset_hub k12 1 %hidden%;
#X text 10 90 \$1 must be the name of the array (attack or release).
, f 69;
#X text 10 110 A bang on the inlet starts the iteration., f 69;
#X obj 100 200 inlet;
#X obj 100 270 trigger b b;
#X obj 140 300 ./egui-get-main;
#X obj 140 330 get egui__main view;
#X obj 140 359 value _\$0_view;
#X text 110 250 ---- Get constants for calculation ----;
#X obj 100 390 trigger b b;
#X obj 130 420 value _\$1_plot_padding;
#X obj 280 450 * 2;
#X obj 480 420 value _\$1_plot_w;
#X obj 630 420 value _\$1_plot_h;
#X text 480 480 [expr] only understands \$0;
#X obj 100 520 trigger b b;
#X obj 160 820 spigot;
#X obj 130 550 ./egui-foreach-breakpoint \$2;
#X obj 100 1670 outlet;
#X obj 630 451 value _\$0_height;
#X obj 480 450 value _\$0_width;
#X obj 320 450 value _\$0_padding2;
#X obj 130 450 value _\$0_padding;
#X text 10 10 Internal abstraction used by egui-recalc-breakpoints
to calculate the value and duration of all breakpoints whose x/y values
have changed. Has been split into its own abstraction to avoid duplication
and make the logic easier to understand., f 69;
#X obj 160 630 trigger p p;
#X obj 190 690 value _\$0_x;
#X obj 530 690 value _\$0_prev_y;
#X obj 160 760 trigger p b;
#X text 170 740 ---- Skip \, if x/y have not changed ----;
#X obj 160 580 trigger p;
#X text 170 610 ---- Get values for calculation ----;
#X obj 220 790 expr (_\$0_x != _\$0_prev_x) || (_\$0_y != _\$0_prev_y)
;
#X text 110 500 ---- Recalculate value and duration ----;
#X msg 780 420 0;
#X obj 780 449 value _\$0_prev_starttime;
#X obj 670 690 value _\$0_starttime;
#X text 170 1570 ---- Remember start time for next iteration ----;
#X obj 160 1590 value _\$0_starttime;
#X obj 160 1619 value _\$0_prev_starttime;
#X obj 190 1120 set egui__breakpoint value duration prev_x prev_y,
f 92;
#X obj 290 690 value _\$0_prev_x;
#X obj 430 690 value _\$0_y;
#X obj 190 660 get egui__breakpoint x prev_x y prev_y starttime;
#X text 10 130 Sends a bang on its left outlet when finished processing.
, f 69;
#X obj 190 1090 clip 0 1;
#X obj 350 1090 expr max(5 \, \\$f1);
#X obj 500 1670 outlet;
#X obj 500 1640 r \$0-data-changed;
#X obj 160 850 trigger p b;
#X text 170 900 ---- Recalculate values ----;
#X obj 250 850 s \$0-data-changed;
#X obj 190 980 expr 0 \; (_\$0_y - _\$0_padding) / (_\$0_height - _\$0_padding2)
\; (((_\$0_x - _\$0_padding) / (_\$0_width - _\$0_padding2)) * _\$0_view)
- _\$0_prev_starttime \; _\$0_x \; _\$0_y \;, f 89;
#X text 420 550 Don't skip dummy breakpoint \, as the release dummy
is linked to the last attack breakpoint \, and could have been moved
with the mouse., f 68;
#X text 170 1170 ---- Special logik for dummy release breakpoint: Mirror
back to final attack breakpoint ----, f 93;
#X obj 240 580 value _\$0_current_index;
#X obj 190 1410 route release;
#X obj 190 1350 symbol \$2;
#X obj 580 1270 trigger b p, f 81;
#X obj 580 1480 get egui_breakpoint x prev_x y prev_y value duration
enabled, f 61;
#X obj 580 1510 set egui_breakpoint x prev_x y prev_y value duration
enabled starttime, f 81;
#X msg 1070 1480 0;
#X obj 580 1450 trigger p b;
#X obj 160 920 trigger b p;
#X obj 190 950 trigger b p, f 92;
#X obj 580 1240 ./egui-get-breakpoint attack -1;
#X obj 190 1380 pack s p, f 13;
#X obj 190 1320 trigger b p, f 13;
#X obj 250 1250 expr _\$0_current_index == 0;
#X obj 190 1280 spigot;
#X obj 160 1190 trigger b p;
#X obj 190 1220 trigger p b;
#X text 520 1340 TODO!!;
#X connect 3 0 4 0;
#X connect 4 0 9 0;
#X connect 4 1 5 0;
#X connect 5 0 6 0;
#X connect 6 0 7 0;
#X connect 9 0 15 0;
#X connect 9 1 10 0;
#X connect 9 1 12 0;
#X connect 9 1 13 0;
#X connect 9 1 33 0;
#X connect 10 0 11 0;
#X connect 10 0 22 0;
#X connect 11 0 21 0;
#X connect 12 0 20 0;
#X connect 13 0 19 0;
#X connect 15 0 18 0;
#X connect 15 1 17 0;
#X connect 16 0 48 0;
#X connect 17 0 29 0;
#X connect 17 1 54 0;
#X connect 24 0 27 0;
#X connect 24 1 42 0;
#X connect 27 0 16 0;
#X connect 27 1 31 0;
#X connect 29 0 24 0;
#X connect 31 0 16 1;
#X connect 33 0 34 0;
#X connect 37 0 38 0;
#X connect 42 0 25 0;
#X connect 42 1 40 0;
#X connect 42 2 41 0;
#X connect 42 3 26 0;
#X connect 42 4 35 0;
#X connect 44 0 39 0;
#X connect 45 0 39 1;
#X connect 47 0 46 0;
#X connect 48 0 62 0;
#X connect 48 1 50 0;
#X connect 51 1 44 0;
#X connect 51 2 45 0;
#X connect 51 3 39 2;
#X connect 51 4 39 3;
#X connect 56 0 65 0;
#X connect 57 1 59 8;
#X connect 58 0 59 0;
#X connect 58 1 59 1;
#X connect 58 2 59 2;
#X connect 58 3 59 3;
#X connect 58 4 59 4;
#X connect 58 5 59 5;
#X connect 58 6 59 6;
#X connect 60 0 59 7;
#X connect 61 0 58 0;
#X connect 61 1 60 0;
#X connect 62 0 69 0;
#X connect 62 1 63 0;
#X connect 63 0 51 0;
#X connect 63 1 39 4;
#X connect 64 0 57 0;
#X connect 65 0 55 0;
#X connect 66 0 56 0;
#X connect 66 1 65 1;
#X connect 67 0 68 1;
#X connect 68 0 66 0;
#X connect 69 0 37 0;
#X connect 69 1 70 0;
#X connect 70 0 68 0;
#X connect 70 1 67 0;
