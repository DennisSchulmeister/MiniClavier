#N canvas 0 49 1920 1009 12;
#X obj -30 -30 preset_hub k12 1 %hidden%;
#X obj 100 740 outlet~;
#X obj 100 110 inlet;
#X obj 100 710 *~;
#X floatatom 100 170 5 0 0 1 Frequency_Hz - - 0 0 1, f 5;
#X floatatom 300 170 5 0 0 1 Velocity - - 0 0 1, f 5;
#X floatatom 600 170 5 0 0 1 Enabled - - 0 0 1, f 5;
#X obj 600 140 ./utils/declick;
#X obj 600 201 s \$0-enabled;
#X obj 300 200 ./utils/declick;
#X obj 100 198 s \$0-frequency;
#X obj 300 230 s \$0-velocity;
#X text 100 80 ==== Inlets: Frequency \, Velocity ====;
#X obj 600 110 r p-p\$1-enabled;
#X floatatom 1000 170 5 0 0 1 Balance - - 0 0 1, f 5;
#X obj 1000 140 ./utils/declick;
#X obj 300 740 outlet~;
#X obj 300 710 *~;
#X floatatom 800 200 5 0 0 1 Volume - - 0 0 1, f 5;
#X obj 800 140 ./utils/declick;
#X obj 800 110 r p-p\$1-volume;
#X obj 800 232 s \$0-volume;
#X text 600 80 ==== General Partial Parameters ====;
#X text 410 200 TODO: Remove;
#X obj 1000 110 r p-p\$1-balance;
#X obj 1000 200 s \$0-balance;
#X obj 100 640 ./utils/balance-stereo;
#X obj 270 640 r \$0-balance;
#X obj 800 170 expr sqrt($f1);
#X obj 250 610 catch~ \$0-carrier_r;
#X obj 100 610 catch~ \$0-carrier_l;
#X obj 430 670 *;
#X obj 540 640 trigger b f;
#X obj 540 610 r \$0-enabled;
#X obj 430 610 r \$0-velocity;
#X obj 100 140 unpack f f;
#X text 100 300 ==== Wavetable Synthesis ====;
#X text 10 30 \$1 must be the partial number starting at zero., f
55;
#X text 10 10 A single partial inside a voice., f 55;
#N canvas 0 49 1920 1009 carrier-wavetables 0;
#X obj 100 129 delay 100;
#X text 10 10 Calculation of the carrier wavetable, f 69;
#N canvas 0 49 1920 1009 (subpatch) 0;
#X array p\$1-carrier1 515 float 0 black black;
#X coords 0 1 514 -1 200 200 1;
#X scroll 1;
#X restore 600 100 graph;
#N canvas 0 0 450 300 (subpatch) 0;
#X array p\$1-carrier2 515 float 0 black black;
#X coords 0 1 514 -1 200 200 1;
#X restore 810 100 graph;
#N canvas 0 0 450 300 (subpatch) 0;
#X array p\$1-carrier3 515 float 0 black black;
#X coords 0 1 514 -1 200 200 1;
#X restore 1020 100 graph;
#N canvas 0 0 450 300 (subpatch) 0;
#X array p\$1-carrier4 515 float 0 black black;
#X coords 0 1 514 -1 200 200 1;
#X restore 1230 100 graph;
#N canvas 0 0 450 300 (subpatch) 0;
#X array p\$1-carrier5 515 float 0 black black;
#X coords 0 1 514 -1 200 200 1;
#X restore 1440 100 graph;
#N canvas 0 0 450 300 (subpatch) 0;
#X array p\$1-carrier6 515 float 0 black black;
#X coords 0 1 514 -1 200 200 1;
#X restore 1650 100 graph;
#N canvas 0 0 450 300 (subpatch) 0;
#X array p\$1-carrier7 515 float 0 black black;
#X coords 0 1 514 -1 200 200 1;
#X restore 600 310 graph;
#N canvas 0 0 450 300 (subpatch) 0;
#X array p\$1-carrier8 515 float 0 black black;
#X coords 0 1 514 -1 200 200 1;
#X restore 810 310 graph;
#N canvas 0 0 450 300 (subpatch) 0;
#X array p\$1-carrier9 515 float 0 black black;
#X coords 0 1 514 -1 200 200 1;
#X restore 1020 310 graph;
#N canvas 0 0 450 300 (subpatch) 0;
#X array p\$1-carrier10 515 float 0 black black;
#X coords 0 1 514 -1 200 200 1;
#X restore 1230 310 graph;
#N canvas 0 0 450 300 (subpatch) 0;
#X array p\$1-carrier10 515 float 0 black black;
#X coords 0 1 514 -1 200 200 1;
#X restore 1440 310 graph;
#X obj 100 180 ./partial-harmonic p-p\$1-car1 p\$1-carrier 11 8;
#X obj 100 210 ./partial-harmonic p-p\$1-car2 p\$1-carrier 11 8;
#X obj 100 240 ./partial-harmonic p-p\$1-car3 p\$1-carrier 11 8;
#X obj 100 270 ./partial-harmonic p-p\$1-car4 p\$1-carrier 11 8;
#X obj 100 300 ./partial-harmonic p-p\$1-car5 p\$1-carrier 11 8;
#X obj 100 330 ./partial-harmonic p-p\$1-car6 p\$1-carrier 11 8;
#X obj 100 360 ./partial-harmonic p-p\$1-car7 p\$1-carrier 11 8;
#X obj 100 390 ./partial-harmonic p-p\$1-car8 p\$1-carrier 11 8;
#X obj 100 100 r p\$1-carrier-recalc;
#X connect 0 0 13 0;
#X connect 13 0 14 0;
#X connect 14 0 15 0;
#X connect 15 0 16 0;
#X connect 16 0 17 0;
#X connect 17 0 18 0;
#X connect 18 0 19 0;
#X connect 19 0 20 0;
#X connect 21 0 0 0;
#X restore 100 330 pd carrier-wavetables;
#N canvas 0 49 1920 1009 modulator-wavetables 1;
#X obj 100 129 delay 100;
#X text 10 10 Calculation of the carrier wavetable, f 69;
#N canvas 0 49 1920 1009 (subpatch) 0;
#X array p\$1-modulator1 515 float 0 black black;
#X coords 0 1 514 -1 200 200 1;
#X scroll 1;
#X restore 600 100 graph;
#N canvas 0 0 450 300 (subpatch) 0;
#X array p\$1-modulator2 515 float 0 black black;
#X coords 0 1 514 -1 200 200 1;
#X restore 810 100 graph;
#N canvas 0 0 450 300 (subpatch) 0;
#X array p\$1-modulator3 515 float 0 black black;
#X coords 0 1 514 -1 200 200 1;
#X restore 1020 100 graph;
#N canvas 0 0 450 300 (subpatch) 0;
#X array p\$1-modulator4 515 float 0 black black;
#X coords 0 1 514 -1 200 200 1;
#X restore 1230 100 graph;
#N canvas 0 0 450 300 (subpatch) 0;
#X array p\$1-modulator5 515 float 0 black black;
#X coords 0 1 514 -1 200 200 1;
#X restore 1440 100 graph;
#N canvas 0 0 450 300 (subpatch) 0;
#X array p\$1-modulator6 515 float 0 black black;
#X coords 0 1 514 -1 200 200 1;
#X restore 1650 100 graph;
#N canvas 0 0 450 300 (subpatch) 0;
#X array p\$1-modulator7 515 float 0 black black;
#X coords 0 1 514 -1 200 200 1;
#X restore 600 310 graph;
#N canvas 0 0 450 300 (subpatch) 0;
#X array p\$1-modulator8 515 float 0 black black;
#X coords 0 1 514 -1 200 200 1;
#X restore 810 310 graph;
#N canvas 0 0 450 300 (subpatch) 0;
#X array p\$1-modulator9 515 float 0 black black;
#X coords 0 1 514 -1 200 200 1;
#X restore 1020 310 graph;
#N canvas 0 0 450 300 (subpatch) 0;
#X array p\$1-modulator10 515 float 0 black black;
#X coords 0 1 514 -1 200 200 1;
#X restore 1230 310 graph;
#N canvas 0 0 450 300 (subpatch) 0;
#X array p\$1-modulator11 515 float 0 black black;
#X coords 0 1 514 -1 200 200 1;
#X restore 1440 310 graph;
#X obj 100 179 ./partial-harmonic p-p\$1-mod1 p\$1-modulator 11 4;
#X obj 100 210 ./partial-harmonic p-p\$1-mod2 p\$1-modulator 11 4;
#X obj 100 239 ./partial-harmonic p-p\$1-mod3 p\$1-modulator 11 4;
#X obj 100 269 ./partial-harmonic p-p\$1-mod4 p\$1-modulator 11 4;
#X obj 100 100 r p\$1-modulator-recalc;
#X connect 0 0 13 0;
#X connect 13 0 14 0;
#X connect 14 0 15 0;
#X connect 15 0 16 0;
#X connect 17 0 0 0;
#X restore 100 360 pd modulator-wavetables;
#X connect 2 0 35 0;
#X connect 3 0 1 0;
#X connect 4 0 10 0;
#X connect 5 0 9 0;
#X connect 6 0 8 0;
#X connect 7 0 6 0;
#X connect 9 0 11 0;
#X connect 13 0 7 0;
#X connect 14 0 25 0;
#X connect 15 0 14 0;
#X connect 17 0 16 0;
#X connect 18 0 21 0;
#X connect 19 0 28 0;
#X connect 20 0 19 0;
#X connect 24 0 15 0;
#X connect 26 0 3 0;
#X connect 26 1 17 0;
#X connect 27 0 26 2;
#X connect 28 0 18 0;
#X connect 29 0 26 1;
#X connect 30 0 26 0;
#X connect 31 0 3 1;
#X connect 31 0 17 1;
#X connect 32 0 31 0;
#X connect 32 1 31 1;
#X connect 33 0 32 0;
#X connect 34 0 31 0;
#X connect 35 0 4 0;
#X connect 35 1 5 0;
